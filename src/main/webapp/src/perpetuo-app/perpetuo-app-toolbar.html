<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-icons/social-icons.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">

<link rel="import" href="../perpetuo-identity/perpetuo-identity.html">

<dom-module id="perpetuo-app-toolbar">
  <template>
    <style>
    app-toolbar {
      background-color: #0086b2;
      color: #fff;
      font-size: 16pt;
    }
    paper-icon-button {
      --paper-icon-button-ink-color: white;
    }
    paper-icon-button + [main-title] {
      margin-left: 24px;
    }
    span.pageTitle {
      text-transform: capitalize;
    }
    </style>
    <perpetuo-identity id="identity" login="{{login}}"></perpetuo-identity>
    <app-toolbar>
      <paper-icon-button icon="menu" on-tap="fireDrawerToggleTap"></paper-icon-button>
      <div main-title><span>Perpetuo</span><span hidden$="[[!pageTitle]]" class="pageTitle"> / [[pageTitle]]</span></div>
      <paper-icon-button icon="social:person" on-tap="onIdentityTap"></paper-icon-button><span>[[login]]</span>
    </app-toolbar>
  </template>
  <script>
  Polymer({
    is: 'perpetuo-app-toolbar',
    properties: {
      pageTitle: String,
      login: { type: String, notify: true }
    },
    fireDrawerToggleTap() {
      this.fire('drawer-toggle-tap')
    },
    onIdentityTap() {
      this.$.identity.request();
    },
  });
  </script>
</dom-module>
