<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html"/>
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html"/>

<dom-module is="perpetuo-up-down-none">
  <template>
    <style>
    :host {
      display: flex;
      position: relative;
      cursor: pointer;
    }
    .not-selectable {
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }
    </style>
    <p class="not-selectable" style="margin: auto 0">[[label]]</p>
    <div style="display: flex; flex-direction: column; align-items: center;">
      <iron-icon icon="[[computeIcon(state)]]"></iron-icon>
      <span class="not-selectable" style="font-size: 10px; min-height: 1.1em; margin-top: -7px;">[[i]]</span>
    </div>
    <paper-ripple></paper-ripple>
  </template>
  <script>
  Polymer({
    is: 'perpetuo-up-down-none',
    properties: {
      label: String,
      state: { type: String, value: 'none', notify: true, reflectToAttribute: true },
      i: { type: Number, value: null },
      inverted: { type: Boolean, value: false }
    },
    listeners: {
      'tap': 'onTap'
    },
    onTap() {
      if (this.inverted) {
        this.state = {'down': 'up', 'up': 'none', 'none': 'down'} [this.state];
      } else {
        this.state = {'down': 'none', 'none': 'up', 'up': 'down'} [this.state];
      }
    },
    computeIcon(state) {
      return { 'down': 'arrow-drop-down', 'none': '', 'up': 'arrow-drop-up' } [state];
    },
  });
  </script>
</dom-module>
