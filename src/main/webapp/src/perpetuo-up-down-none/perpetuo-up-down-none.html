<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html"/>
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html"/>

<dom-module id="perpetuo-up-down-none">
  <template>
    <style>
    :host {
      display: flex;
      position: relative;
      cursor: pointer;
    }
    .not-selectable {
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }
    </style>
    <p class="not-selectable" style="margin: auto 0">[[label]]</p>
    <iron-icon icon="[[computeIcon(state)]]"></iron-icon>
    <span class="not-selectable" style="font-size: 10px; min-height: 1.1em; align-self: flex-end;">[[i]]</span>
    <paper-ripple></paper-ripple>
  </template>
  <script>
  (function () {
    class PerpetuoUpDownNone extends Polymer.Element {
      static get is() { return 'perpetuo-up-down-none'; }

      static get properties() {
        return {
          label: String,
          state: { type: String, value: 'none', notify: true, reflectToAttribute: true },
          i: { type: Number, value: null },
          inverted: { type: Boolean, value: false }
        };
      }

      constructor() {
        super();

        Polymer.RenderStatus.afterNextRender(this, function() {
          this.addEventListener('tap', this.onTap);
        });
      }

      onTap() {
        if (this.inverted) {
          this.state = {'down': 'up', 'up': 'none', 'none': 'down'} [this.state];
        } else {
          this.state = {'down': 'none', 'none': 'up', 'up': 'down'} [this.state];
        }
      }

      computeIcon(state) {
        return { 'down': 'arrow-downward', 'none': '', 'up': 'arrow-upward' } [state];
      }
    }

    customElements.define(PerpetuoUpDownNone.is, PerpetuoUpDownNone);
  } ());
  </script>
</dom-module>
